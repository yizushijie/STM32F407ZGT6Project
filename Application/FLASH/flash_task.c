#include "flash_task.h"

///////////////////////////////////////////////////////////////////////////////
//////函		数：
//////功		能：
//////输入参数:
//////输出参数:
//////说		明：
//////////////////////////////////////////////////////////////////////////////
void FLASHTask_ReadHalfWord(UINT32_T readAddr, UINT16_T *pVal, UINT16_T length)
{
	FLASHLib_ReadHalfWord(readAddr, pVal, length);
}

///////////////////////////////////////////////////////////////////////////////
//////函		数：
//////功		能：
//////输入参数:
//////输出参数:
//////说		明：
//////////////////////////////////////////////////////////////////////////////
void FLASHTask_WriteHalfWord(UINT32_T writeAddr, UINT16_T *pVal, UINT16_T length)
{
	FLASHLib_WriteHalfWord(writeAddr, pVal, length);
}

///////////////////////////////////////////////////////////////////////////////
//////函		数：
//////功		能：
//////输入参数:
//////输出参数:
//////说		明：
//////////////////////////////////////////////////////////////////////////////
void FLASHTask_WriteHalfWordWithErase(UINT32_T writeAddr, UINT16_T *pVal, UINT16_T length)
{
	FLASHLib_WriteHalfWordWithErase(writeAddr, pVal, length);
}

///////////////////////////////////////////////////////////////////////////////
//////函		数：
//////功		能：
//////输入参数:
//////输出参数:
//////说		明：
//////////////////////////////////////////////////////////////////////////////
void FlashTask_LockRead(void)
{
	FlashLib_LockRead();
}

///////////////////////////////////////////////////////////////////////////////
//////函		数：
//////功		能：
//////输入参数:
//////输出参数:
//////说		明：
//////////////////////////////////////////////////////////////////////////////
void FlashTask_UnLockRead(void)
{
	FlashLib_LockRead();
}
///////////////////////////////////////////////////////////////////////////////
//////函		数：
//////功		能：
//////输入参数:
//////输出参数:
//////说		明：
//////////////////////////////////////////////////////////////////////////////
void FLASHTask_Debug(void)
{
	UINT16_T eepromWTest[5] = { 0x1010,0x2020,0x3030,0x4040,0x5050 };
	UINT16_T eepromRTest[5] = { 0xFFFF,0xFFFF,0xFFFF,0xFFFF,0xFFFF };

	//---Flash模拟eeprom的测试
	FLASHTask_WriteHalfWordWithErase(FLASH_BASE_ADDR, eepromRTest, 5);
	FLASHTask_ReadHalfWord(FLASH_BASE_ADDR, eepromRTest, 5);
	FLASHTask_WriteHalfWordWithErase(FLASH_BASE_ADDR, eepromWTest, 5);
	FLASHTask_ReadHalfWord(FLASH_BASE_ADDR, eepromRTest, 5);
}